title: Исправить full_name=str(chat_id) в SupportMirrorMessenger
status: open
created_at: 15.02.2026
completed_at: null

todoist:
  task_id: "6g2g8h5FJVC4RMvF"

description: |
  SupportMirrorMessenger передаёт full_name=str(chat_id) в ensure_topic,
  что создаёт топики с числовым именем вместо ФИО пользователя.
  В SupportChatMiddleware имя получается корректно.

recommendation: |
  Убрать full_name из параметров ensure_topic. Получать имя из user_repo
  внутри SupportTopicManager, либо ввести отдельный метод get_topic_id
  для случаев, когда топик уже точно создан.

solution: null
